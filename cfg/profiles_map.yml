version: 1
defaults:
  delimiter: ";"
  decimal: ","
  encoding: "utf-8"
  date_formats: ["%d/%m/%Y", "%Y-%m-%d"]
  doc_num_regex: "\\b(?:NF|NFE|CTE|DOC)?\\s*(\\d{1,12})\\b"
  doc_serie_regex: "\\b(\\d{1,4})\\b"

profiles:
  - id: sucessor_v1
    source: SUCESSOR
    detect:
      required_any:
        - "(?i)data"
        - "(?i)debito"
        - "(?i)credito"
        - "(?i)doc"
    csv:
      delimiter: ";"
      decimal: ","
    map:
      data: ["(?i)^data"]
      debito: ["(?i)debito"]
      credito: ["(?i)credito"]
      part_d: ["(?i)part.*deb"]
      part_c: ["(?i)part.*cred"]
      doc: ["(?i)doc"]
      valor: ["(?i)valor"]
      historico: ["(?i)hist"]
      transacao_id: ["(?i)trans"]

  - id: suprema_entradas_v1
    source: SUPREMA_ENTRADA
    detect:
      required_any:
        - "(?i)fornecedor"
        - "(?i)cfop"
        - "(?i)valor"
    map:
      data: ["(?i)data"]
      doc: ["(?i)doc"]
      participante: ["(?i)fornecedor|participante"]
      valor: ["(?i)valor"]
      cfop: ["(?i)cfop"]
      modelo: ["(?i)modelo"]
      situacao: ["(?i)situacao"]
      debito_alias: ["(?i)debito"]
      credito_alias: ["(?i)credito"]
      condicao: ["(?i)condicao"]
      chave_xml: ["(?i)chave"]
    fixed:
      fonte_tipo: ENTRADA

  - id: suprema_saidas_v1
    source: SUPREMA_SAIDA
    detect:
      required_any:
        - "(?i)cliente"
        - "(?i)cfop"
        - "(?i)valor"
    map:
      data: ["(?i)data"]
      doc: ["(?i)doc"]
      participante: ["(?i)cliente|participante"]
      valor: ["(?i)valor"]
      cfop: ["(?i)cfop"]
      modelo: ["(?i)modelo"]
      situacao: ["(?i)situacao"]
      debito_alias: ["(?i)debito"]
      credito_alias: ["(?i)credito"]
      condicao: ["(?i)condicao"]
      chave_xml: ["(?i)chave"]
    fixed:
      fonte_tipo: SAIDA

  - id: suprema_servicos_v1
    source: SUPREMA_SERVICO
    detect:
      required_any:
        - "(?i)serv"
        - "(?i)valor"
    map:
      data: ["(?i)data"]
      doc: ["(?i)doc|rps"]
      participante: ["(?i)tomador|fornecedor|cliente|participante"]
      valor: ["(?i)valor"]
      cfop: ["(?i)cfop"]
      situacao: ["(?i)situacao"]
      debito_alias: ["(?i)debito"]
      credito_alias: ["(?i)credito"]
    fixed:
      fonte_tipo: SERVICO

  - id: fornecedores_v1
    source: FORNECEDORES
    detect:
      required_any:
        - "(?i)fornecedor"
        - "(?i)cnpj"
    map:
      codigo: ["(?i)cod"]
      nome: ["(?i)nome|razao"]
      cnpj: ["(?i)cnpj"]

  - id: plano_contas_v1
    source: PLANO_CONTAS
    detect:
      required_any:
        - "(?i)plano"
        - "(?i)conta"
    map:
      codigo: ["(?i)cod|conta"]
      alias: ["(?i)alias|apelido|reduzido"]
      nome: ["(?i)nome|descricao"]
      natureza: ["(?i)natureza|tipo"]
