version: 1
defaults:
  delimiter: ";"
  decimal: ","
  encoding: "utf-8"
  date_formats: ["%d/%m/%Y", "%Y-%m-%d"]
  doc_num_regex: "\\b(?:NF|NFE|CTE|DOC)?\\s*(\\d{1,12})\\b"
  doc_serie_regex: "\\b(\\d{1,4})\\b"

profiles:
  - id: sucessor_v1
    source: SUCESSOR
    detect:
      required_any:
        - '(?i)^transa(?:c|\u00e7)(?:a|\u00e3)o$'
        - '(?i)^d(?:e|\u00e9)bito$'
        - '(?i)^cr(?:e|\u00e9)dito$'
        - '(?i)^n(?:\u00ba|\u00b0)\s*doct?o$'
    csv:
      delimiter: ";"
      decimal: "."
      encoding: "latin1"
    map:
      data:
        - '(?i)^data$'
      debito:
        - '(?i)^d(?:e|\u00e9)bito$'
      credito:
        - '(?i)^cr(?:e|\u00e9)dito$'
      part_d:
        - '(?i)^participante\s*d$'
      part_c:
        - '(?i)^participante\s*c$'
      doc:
        - '(?i)^n(?:\u00ba|\u00b0)\s*doct?o$'
        - '(?i)^chave$'
      valor:
        - '(?i)^valor$'
      historico:
        - '(?i)^hist$'
      transacao_id:
        - '(?i)^transa(?:c|\u00e7)(?:a|\u00e3)o$'
        - '(?i)^chave$'

  - id: suprema_entradas_v1
    source: SUPREMA_ENTRADA
    detect:
      required_any:
        - '(?i)^chave$'
        - '(?i)^nome\s+fornecedor$'
        - '(?i)^valor\s+cont(?:a|\u00e1)bil$'
    map:
      data:
        - '(?i)^data\s+emiss(?:ao|\u00e3)o$'
        - '(?i)^data\s+entrada$'
      doc:
        - '(?i)^documento$'
      participante:
        - '(?i)^nome\s+fornecedor$'
        - '(?i)^fornecedor$'
      valor:
        - '(?i)^valor\s+cont(?:a|\u00e1)bil$'
      cfop:
        - '(?i)^cfop$'
      modelo:
        - '(?i)^modelo$'
      situacao:
        - '(?i)^situa(?:c|\u00e7)(?:a|\u00e3)o\s+do\s+documento$'
      debito_alias:
        - '(?i)^d(?:e|\u00e9)bito$'
      credito_alias:
        - '(?i)^cr(?:e|\u00e9)dito$'
      condicao:
        - '(?i)^condi(?:c|\u00e7)(?:o|\u00f5)es$'
      chave_xml:
        - '(?i)^chave\s+nf-e/ct-e/nfc-e/bp-e$'
    fixed:
      fonte_tipo: ENTRADA
    csv:
      delimiter: ";"
      decimal: "."
      encoding: "latin1"

  - id: suprema_saidas_v1
    source: SUPREMA_SAIDA
    detect:
      required_any:
        - '(?i)^chave$'
        - '(?i)^nome\s+cliente$'
        - '(?i)^valor\s+cont(?:a|\u00e1)bil$'
    map:
      data:
        - '(?i)^data\s+emiss(?:ao|\u00e3)o$'
      doc:
        - '(?i)^documento$'
      participante:
        - '(?i)^nome\s+cliente$'
        - '(?i)^cliente$'
      valor:
        - '(?i)^valor\s+cont(?:a|\u00e1)bil$'
      cfop:
        - '(?i)^cfop$'
      modelo:
        - '(?i)^modelo$'
      situacao:
        - '(?i)^situa(?:c|\u00e7)(?:a|\u00e3)o\s+do\s+documento$'
      debito_alias:
        - '(?i)^d(?:e|\u00e9)bito$'
      credito_alias:
        - '(?i)^cr(?:e|\u00e9)dito$'
      condicao:
        - '(?i)^condi(?:c|\u00e7)(?:o|\u00f5)es$'
      chave_xml:
        - '(?i)^chave\s+nf-e/ct-e/nfc-e/bp-e$'
    fixed:
      fonte_tipo: SAIDA
    csv:
      delimiter: ";"
      decimal: "."
      encoding: "latin1"

  - id: suprema_servicos_v1
    source: SUPREMA_SERVICO
    detect:
      required_any:
        - '(?i)^nr\.\s*doc\.$'
        - '(?i)^cliente$'
        - '(?i)^valor\s+cont(?:a|\u00e1)bil$'
    map:
      data:
        - '(?i)^data\s+emiss(?:ao|\u00e3)o$'
      doc:
        - '(?i)^nr\.\s*doc\.$'
        - '(?i)^chave\s+nf-e/nfc-e$'
      participante:
        - '(?i)^cliente$'
      valor:
        - '(?i)^valor\s+cont(?:a|\u00e1)bil$'
      cfop:
        - '(?i)^nat\.\s*opera(?:c|\u00e7)(?:ao|\u00e3)o$'
      situacao:
        - '(?i)^situa(?:c|\u00e7)(?:a|\u00e3)o$'
      debito_alias:
        - '(?i)^d(?:e|\u00e9)bito$'
      credito_alias:
        - '(?i)^cr(?:e|\u00e9)dito$'
      condicao:
        - '(?i)^cond\.\s*pagto$'
    fixed:
      fonte_tipo: SERVICO
    csv:
      delimiter: ";"
      decimal: "."
      encoding: "latin1"

  - id: fornecedores_v1
    source: FORNECEDORES
    detect:
      required_any:
        - '(?i)fornecedor'
        - '(?i)cnpj'
    csv:
      delimiter: ";"
      decimal: "."
      encoding: "latin1"
    map:
      codigo:
        - '(?i)^c(?:o|\u00f3)digo$'
      nome:
        - '(?i)^nome$'
        - '(?i)^raz(?:a|\u00e3)o\s+social$'
      cnpj:
        - '(?i)^cpf\s*/\s*cnpj$'

  - id: plano_contas_v1
    source: PLANO_CONTAS
    detect:
      required_any:
        - '(?i)^c(?:o|\u00f3)digo$'
        - '(?i)^classifica'
    csv:
      delimiter: ";"
      decimal: "."
      encoding: "latin1"
    map:
      codigo:
        - '(?i)^c(?:o|\u00f3)digo$'
      alias:
        - '(?i)^apelido$'
        - '(?i)^alias$'
        - '(?i)^nome\s+reduzido$'
      nome:
        - '(?i)^nome$'
        - '(?i)^descri(?:c|\u00e7)(?:a|\u00e3)o$'
      natureza:
        - '(?i)^natureza$'
        - '(?i)^tipo$'
