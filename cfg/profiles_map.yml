version: 1
defaults:
  delimiter: ";"
  decimal: ","
  encoding: "utf-8"
  date_formats: ["%d/%m/%Y", "%Y-%m-%d"]
  doc_num_regex: "\\b(?:NF|NFE|CTE|DOC)?\\s*(\\d{1,12})\\b"
  doc_serie_regex: "\\b(\\d{1,4})\\b"

profiles:
  - id: sucessor_v1
    source: SUCESSOR
    detect:
      required_any:
        - '(?i)^data'
        - '(?i)d.?bito'
        - '(?i)c.?r.?dito'
        - '(?i)doct?o|documento'
    csv:
      delimiter: ";"
      decimal: ","
    map:
      data:
        - '(?i)^data'
        - '(?i)data\s*(?:lanc|emis)'
      debito:
        - '(?i)conta\s*d.?bito'
        - '(?i)^d.?bito$'
      credito:
        - '(?i)conta\s*c.?r.?dito'
        - '(?i)^c.?r.?dito$'
      part_d:
        - '(?i)participante\s*d'
        - '(?i)part.*deb'
      part_c:
        - '(?i)participante\s*c'
        - '(?i)part.*cred'
      doc:
        - '(?i)n.?\s*doct?o'
        - '(?i)nr?.?\s*doc'
        - '(?i)documento'
      valor:
        - '(?i)^valor'
      historico:
        - '(?i)^hist'
      transacao_id:
        - '(?i)^transa'
        - '(?i)transacao'

  - id: suprema_entradas_v1
    source: SUPREMA_ENTRADA
    detect:
      required_any:
        - '(?i)fornecedor'
        - '(?i)cfop'
        - '(?i)valor'
    map:
      data:
        - '(?i)data\s*emis'
        - '(?i)data'
      doc:
        - '(?i)^doc'
        - '(?i)nr?.?\s*doc'
        - '(?i)documento'
      participante:
        - '(?i)^nome\s*fornecedor$'
        - '(?i)fornecedor'
      valor:
        - '(?i)valor'
      cfop:
        - '(?i)cfop'
      modelo:
        - '(?i)modelo'
      situacao:
        - '(?i)situa'
      debito_alias:
        - '(?i)^d.?bito$'
        - '(?i)debito'
      credito_alias:
        - '(?i)^c.?r.?dito$'
        - '(?i)credito'
      condicao:
        - '(?i)cond[ií]c'
      chave_xml:
        - '(?i)^chave'
    fixed:
      fonte_tipo: ENTRADA

  - id: suprema_saidas_v1
    source: SUPREMA_SAIDA
    detect:
      required_any:
        - '(?i)cliente'
        - '(?i)cfop'
        - '(?i)valor'
    map:
      data:
        - '(?i)data\s*emis'
        - '(?i)data'
      doc:
        - '(?i)^doc'
        - '(?i)nr?.?\s*doc'
        - '(?i)documento'
      participante:
        - '(?i)^nome\s*cliente$'
        - '(?i)cliente'
      valor:
        - '(?i)valor'
      cfop:
        - '(?i)cfop'
      modelo:
        - '(?i)modelo'
      situacao:
        - '(?i)situa'
      debito_alias:
        - '(?i)^d.?bito$'
        - '(?i)debito'
      credito_alias:
        - '(?i)^c.?r.?dito$'
        - '(?i)credito'
      condicao:
        - '(?i)cond[ií]c'
      chave_xml:
        - '(?i)^chave'
    fixed:
      fonte_tipo: SAIDA

  - id: suprema_servicos_v1
    source: SUPREMA_SERVICO
    detect:
      required_any:
        - '(?i)serv'
        - '(?i)valor'
    map:
      data:
        - '(?i)data\s*emis'
        - '(?i)data'
      doc:
        - '(?i)^doc'
        - '(?i)nr?.?\s*doc'
        - '(?i)rps'
      participante:
        - '(?i)^cliente$'
        - '(?i)tomador'
        - '(?i)fornecedor'
        - '(?i)participante'
      valor:
        - '(?i)valor'
      cfop:
        - '(?i)cfop|nat.*oper'
      situacao:
        - '(?i)situa'
      debito_alias:
        - '(?i)debito'
      credito_alias:
        - '(?i)credito'
    fixed:
      fonte_tipo: SERVICO

  - id: fornecedores_v1
    source: FORNECEDORES
    detect:
      required_any:
        - '(?i)fornecedor'
        - '(?i)cnpj'
    map:
      codigo:
        - '(?i)cod'
      nome:
        - '(?i)nome'
        - '(?i)razao'
      cnpj:
        - '(?i)cnpj'

  - id: plano_contas_v1
    source: PLANO_CONTAS
    detect:
      required_any:
        - '(?i)plano'
        - '(?i)conta'
    map:
      codigo:
        - '(?i)cod|conta'
      alias:
        - '(?i)alias'
        - '(?i)apelido'
        - '(?i)reduzido'
      nome:
        - '(?i)nome'
        - '(?i)descricao'
      natureza:
        - '(?i)natureza'
        - '(?i)tipo'
